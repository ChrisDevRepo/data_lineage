# Data Lineage Visualizer - Frontend

**Interactive React application for visualizing Azure Synapse data lineage**

[![React](https://img.shields.io/badge/React-19.2.0-blue.svg)](https://react.dev/)
[![Vite](https://img.shields.io/badge/Vite-6.2.0-purple.svg)](https://vitejs.dev/)
[![TypeScript](https://img.shields.io/badge/TypeScript-5.8.2-blue.svg)](https://www.typescriptlang.org/)
[![Azure Ready](https://img.shields.io/badge/Azure-Free%20Tier%20Ready-0078D4.svg)](https://azure.microsoft.com/)

---

## ğŸš€ Quick Start

### Running in VSCode Devcontainer (Current Environment)

```bash
# 1. Install dependencies (first time only)
npm install

# 2. Start development server
npm run dev
```

**Opens at:** `http://localhost:3000`

**That's it!** Node.js and npm are already installed in your devcontainer.

---

## ğŸ“ Project Structure

```
frontend/
â”œâ”€â”€ ğŸ“š docs/                          # All documentation
â”‚   â”œâ”€â”€ FRONTEND_ARCHITECTURE.md      # Complete app architecture
â”‚   â”œâ”€â”€ LOCAL_DEVELOPMENT.md          # Development guide
â”‚   â”œâ”€â”€ DEPLOYMENT_AZURE.md           # Azure deployment guide
â”‚   â”œâ”€â”€ INTEGRATION.md                # Backend integration patterns
â”‚   â””â”€â”€ README_COMPLETE.md            # Full setup summary
â”‚
â”œâ”€â”€ ğŸš€ deploy/                        # Deployment configuration
â”‚   â”œâ”€â”€ web.config                    # Azure IIS config (Windows)
â”‚   â”œâ”€â”€ startup.sh                    # PM2 startup (Linux)
â”‚   â””â”€â”€ .deployment                   # Azure deployment settings
â”‚
â”œâ”€â”€ ğŸ¨ components/                    # React components
â”‚   â”œâ”€â”€ CustomNode.tsx                # Graph node renderer
â”‚   â”œâ”€â”€ Toolbar.tsx                   # Top toolbar with filters
â”‚   â”œâ”€â”€ Legend.tsx                    # Schema color legend
â”‚   â”œâ”€â”€ InteractiveTracePanel.tsx     # Lineage tracing panel
â”‚   â”œâ”€â”€ ImportDataModal.tsx           # Data import/editor
â”‚   â”œâ”€â”€ InfoModal.tsx                 # Help/info modal
â”‚   â””â”€â”€ NotificationSystem.tsx        # Toast notifications
â”‚
â”œâ”€â”€ ğŸª hooks/                         # Custom React hooks
â”‚   â”œâ”€â”€ useGraphology.ts              # Graph construction
â”‚   â”œâ”€â”€ useInteractiveTrace.ts        # Lineage tracing logic
â”‚   â”œâ”€â”€ useDataFiltering.ts           # Filter & search logic
â”‚   â””â”€â”€ useNotifications.ts           # Notification system
â”‚
â”œâ”€â”€ ğŸ› ï¸ utils/                         # Utilities
â”‚   â”œâ”€â”€ layout.ts                     # Dagre graph layout
â”‚   â””â”€â”€ data.ts                       # Sample data generator
â”‚
â”œâ”€â”€ App.tsx                           # Main application component
â”œâ”€â”€ index.tsx                         # React entry point
â”œâ”€â”€ index.html                        # HTML template
â”œâ”€â”€ types.ts                          # TypeScript type definitions
â”œâ”€â”€ constants.ts                      # App constants
â”œâ”€â”€ package.json                      # Dependencies & scripts
â”œâ”€â”€ vite.config.ts                    # Vite configuration
â”œâ”€â”€ tsconfig.json                     # TypeScript config
â””â”€â”€ .env.local                        # Environment variables
```

---

## ğŸ“š Documentation

**Start here based on what you need:**

| Document | Read When |
|----------|-----------|
| **[docs/LOCAL_DEVELOPMENT.md](docs/LOCAL_DEVELOPMENT.md)** | Daily development, running locally |
| **[docs/FRONTEND_ARCHITECTURE.md](docs/FRONTEND_ARCHITECTURE.md)** | Understanding the codebase, onboarding |
| **[docs/INTEGRATION.md](docs/INTEGRATION.md)** | Connecting to Python backend |
| **[docs/DEPLOYMENT_AZURE.md](docs/DEPLOYMENT_AZURE.md)** | Deploying to Azure Web App |
| **[docs/README_COMPLETE.md](docs/README_COMPLETE.md)** | Complete setup summary |

---

## ğŸ¯ Common Tasks

### Development

```bash
# Start dev server with hot reload
npm run dev

# Build for production
npm run build

# Preview production build
npm run preview

# Type check without building
npm run type-check

# Clean build artifacts
npm run clean
```

### Azure Deployment

```bash
# Build and prepare for Azure deployment
npm run build:azure

# Create deployment package (deploy.zip)
npm run deploy:zip

# Then deploy using Azure CLI:
# az webapp deployment source config-zip \
#   --resource-group <rg> --name <app> --src deploy.zip
```

See **[docs/DEPLOYMENT_AZURE.md](docs/DEPLOYMENT_AZURE.md)** for complete deployment instructions.

---

## ğŸ”— Backend Integration

The frontend loads lineage data from JSON files generated by the Python backend:

```bash
# Terminal 1: Generate lineage data (from project root)
cd /workspaces/ws-psidwh
python lineage_v3/main.py run --parquet parquet_snapshots/
# Creates: lineage_output/frontend_lineage.json

# Terminal 2: Start frontend
cd frontend
npm run dev

# In browser: Click "Import Data" â†’ Upload frontend_lineage.json
```

See **[docs/INTEGRATION.md](docs/INTEGRATION.md)** for all integration patterns.

---

## ğŸ¨ Features

- âœ… **Interactive Graph Visualization** - Zoom, pan, drag nodes
- âœ… **Lineage Tracing** - Upstream/downstream dependency exploration
- âœ… **Smart Filtering** - By schema, object type, data model
- âœ… **Search** - Find objects with autocomplete
- âœ… **Multiple Views** - Detail view (objects) & Schema view (aggregated)
- âœ… **Data Import** - Load custom JSON with validation
- âœ… **SVG Export** - Export graphs for documentation
- âœ… **Responsive UI** - Works on desktop and tablets

---

## ğŸ› ï¸ Technology Stack

| Category | Technology | Version |
|----------|-----------|---------|
| **Framework** | React | 19.2.0 |
| **Build Tool** | Vite | 6.2.0 |
| **Language** | TypeScript | 5.8.2 |
| **Visualization** | ReactFlow | 11.11.4 |
| **Graph Engine** | Graphology | 0.25.4 |
| **Layout** | Dagre | 0.8.5 |
| **Styling** | Tailwind CSS | 3.x (CDN) |

---

## â˜ï¸ Azure Deployment

This app is **optimized for Azure Web App Free Tier**:

| Metric | Free Tier | This App | Status |
|--------|-----------|----------|--------|
| Disk Space | 1 GB | ~2-5 MB | âœ… <1% usage |
| Bandwidth | 165 MB/day | ~500 KB/load | âœ… ~330 users/day |
| CPU Time | 60 min/day | Client-side only | âœ… No server CPU |
| Cost | $0/month | Static SPA | âœ… FREE! |

**Read more:** [docs/DEPLOYMENT_AZURE.md](docs/DEPLOYMENT_AZURE.md)

---

## ğŸ› Troubleshooting

### Port already in use

```bash
# Kill process on port 3000
lsof -ti:3000 | xargs kill -9

# Or use different port
npm run dev -- --port 3001
```

### Module not found

```bash
# Reinstall dependencies
rm -rf node_modules package-lock.json
npm install
```

### Clear Vite cache

```bash
npm run clean
npm run dev
```

**More help:** See troubleshooting sections in:
- [docs/LOCAL_DEVELOPMENT.md](docs/LOCAL_DEVELOPMENT.md#troubleshooting)
- [docs/DEPLOYMENT_AZURE.md](docs/DEPLOYMENT_AZURE.md#troubleshooting)

---

## ğŸ“– Learn More

- **Architecture deep dive:** [docs/FRONTEND_ARCHITECTURE.md](docs/FRONTEND_ARCHITECTURE.md)
- **Component breakdown:** [docs/FRONTEND_ARCHITECTURE.md#component-breakdown](docs/FRONTEND_ARCHITECTURE.md#component-breakdown)
- **Data flow:** [docs/FRONTEND_ARCHITECTURE.md#data-flow](docs/FRONTEND_ARCHITECTURE.md#data-flow)
- **Performance tips:** [docs/FRONTEND_ARCHITECTURE.md#performance-considerations](docs/FRONTEND_ARCHITECTURE.md#performance-considerations)

---

## ğŸ¤ Contributing

This frontend is part of the **Vibecoding Lineage Parser v3.0** project.

**Main repository:** `/workspaces/ws-psidwh/`
**Backend:** `lineage_v3/` (Python)
**Frontend:** `frontend/` (React)

See the main [CLAUDE.md](../CLAUDE.md) for complete project documentation.

---

## ğŸ“„ License

Internal Vibecoding project - see main repository for license details.

---

**Built with â¤ï¸ using React + Vite + TypeScript**
