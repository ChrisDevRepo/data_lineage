# ==============================================================================
# Vibecoding Lineage Parser v3.7.0 - Environment Configuration
# ==============================================================================
# Copy this file to .env and fill in your actual values
# Command: cp .env.example .env
# ==============================================================================

# ------------------------------------------------------------------------------
# Azure OpenAI (for AI-Assisted SQL Disambiguation) - v3.7.0
# ------------------------------------------------------------------------------
# Required for AI disambiguation feature
# Get credentials from Azure Portal → Azure OpenAI Service

AZURE_OPENAI_ENDPOINT=https://your-endpoint.openai.azure.com/
AZURE_OPENAI_API_KEY=your-api-key-here
AZURE_OPENAI_MODEL_NAME=gpt-4.1-nano
AZURE_OPENAI_DEPLOYMENT=gpt-4.1-nano
AZURE_OPENAI_API_VERSION=2024-12-01-preview

# ------------------------------------------------------------------------------
# AI Disambiguation Configuration (NEW in v3.7.0)
# ------------------------------------------------------------------------------
# Enable/disable AI-assisted disambiguation (true/false)
# When enabled, AI helps resolve ambiguous table references for SPs with confidence ≤ threshold
AI_ENABLED=true

# Parser confidence threshold to trigger AI disambiguation (0.0 - 1.0)
# Default: 0.85 (SPs with confidence ≤ 0.85 will use AI assistance)
AI_CONFIDENCE_THRESHOLD=0.85

# Minimum AI confidence to accept result (0.0 - 1.0)
# Results below this threshold are rejected and fall back to parser result
AI_MIN_CONFIDENCE=0.70

# Maximum retry attempts with refined prompts
# Default: 2 (one initial attempt + one retry)
AI_MAX_RETRIES=2

# API timeout in seconds
# Default: 10 seconds per AI call
AI_TIMEOUT_SECONDS=10

# ==============================================================================
# Security Notes
# ==============================================================================
# - NEVER commit .env to version control
# - Azure OpenAI API keys are sensitive - keep them secure
# - Consider using Azure Key Vault for production secrets
# - Rotate credentials regularly
# ==============================================================================
