# ==============================================================================
# Data Lineage Visualizer - Environment Configuration
# ==============================================================================
# SETUP: Copy this file to .env and customize as needed
# Command: cp .env.example .env
#
# ⚠️  SECURITY WARNING:
# - .env is in .gitignore and will NEVER be committed to version control
# - This .env.example file IS committed - DO NOT add secrets or passwords here!
# - Only put secrets in your local .env file (which is gitignored)
# - For production, use Azure App Service Configuration for secrets
# ==============================================================================

# ------------------------------------------------------------------------------
# API Configuration
# ------------------------------------------------------------------------------
# Comma-separated list of allowed CORS origins
# Development: Use localhost
# Production: Add your frontend URL
ALLOWED_ORIGINS=http://localhost:3000

# SQL dialect for parser and metadata extraction
# Currently tsql is implemented (SQL Server, Azure SQL, Synapse, Fabric)
# Other dialects can be added with generic development effort
SQL_DIALECT=tsql

# ------------------------------------------------------------------------------
# Path Configuration (Optional - defaults work for most cases)
# ------------------------------------------------------------------------------
# DuckDB workspace database file
PATH_WORKSPACE_FILE=lineage_workspace.duckdb

# Output directory for generated JSON files
PATH_OUTPUT_DIR=lineage_output

# Default directory for Parquet snapshots
PATH_PARQUET_DIR=parquet_snapshots

# ------------------------------------------------------------------------------
# Runtime Mode
# ------------------------------------------------------------------------------
# Runtime mode: demo | debug | production
# - demo: Auto-load sample data on startup, simplified UI
# - debug: Verbose logging (DEBUG level), detailed error messages, developer tools visible
# - production: Optimized performance, INFO level logging, minimal overhead
RUN_MODE=debug

# ------------------------------------------------------------------------------
# Logging Configuration
# ------------------------------------------------------------------------------
# Backend Log Level: DEBUG | INFO | WARNING | ERROR | CRITICAL
# - DEBUG: Most verbose, useful for development and troubleshooting
# - INFO: Standard logging for production (recommended)
# - WARNING: Only warnings and errors
# - ERROR: Only errors and critical issues
# - CRITICAL: Only critical failures
LOG_LEVEL=INFO

# Enable debug mode (additional logging and validation)
DEBUG_MODE=false

# Log file retention (days) - cleanup triggered on import/upload
# Default: 7 days
LOG_RETENTION_DAYS=7

# Frontend Performance (Vite/React)
# Set VITE_VERBOSE_LOGS=false in frontend/.env.development to disable debug/perf console logs
# This can significantly improve performance during development

# ------------------------------------------------------------------------------
# Runtime Options
# ------------------------------------------------------------------------------
# Skip query log analysis (use when query_logs.parquet unavailable)
SKIP_QUERY_LOGS=false

# ------------------------------------------------------------------------------
# Schema and Object Filtering
# ------------------------------------------------------------------------------
# Global schema exclusion - schemas to ALWAYS exclude from ALL processing
# Default: System schemas for SQL Server / Azure Synapse
EXCLUDED_SCHEMAS=sys,dummy,information_schema,tempdb,master,msdb,model

# ------------------------------------------------------------------------------
# Database settings
# ------------------------------------------------------------------------------
DB_ENABLED=false
# DB_CONNECTION_STRING=DRIVER={ODBC Driver 18 for SQL Server};SERVER=tcp:SERVERNAME.database.windows.net,1433;DATABASE=DATABASENAME;UID=USERNAME;PWD=PASSWORD;Encrypt=yes

